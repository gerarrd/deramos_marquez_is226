{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('build/styles/security-login.css') }}" rel="stylesheet"/>
{% endblock %}

{% block body %}
    <div class="col-md-6 logo-container">
        <div id="logo" style="background-image: url({{ asset('build/images/logo.png') }})"></div>
    </div>
    <div class="col-md-6 signin-container">
        <div class="signin-control">
            <div class="welcome-message">
                <h1>Welcome</h1>
                <p>Keeping track of our expenses in relation with our friends and families has been a constant challenge for every Filipinos nowadays. More than anything, we would want to ensure that we get the best out of our spending. We are here to help you treasure what you value most.</p>
            </div>
            <div class="signin-form">
                <form action="{{ path('login') }}" method="post" id="signin">
                    <input type="text" id="username" name="_username" value="{{ last_username }}" placeholder="Username" required/>
                    <input type="password" id="password" name="_password" placeholder="Password"  required/>
                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                    <button type="submit" class="btn btn-dark" id="submit-signin"><span class="bi bi-box-arrow-right"></span> Sign In</button>
                </form>
                {% if error %}
                    <div class="text-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                {% endif %}
            </div>
            <div class="signin-auth">
                <hr/>
                <button class="btn btn-lg btn-dark" data-bs-toggle="modal" data-bs-target="#signup-modal">
                    <span class="bi bi-pencil-square"></span> Sign Up with Email
                </button>
                <a href="{{ path('hwi_oauth_service_redirect', {'service': 'google' }) }}" class="btn btn-lg btn-danger">
                    <span class="bi bi-google"></span> Sign In with Google
                </a>
            </div>
        </div>
    </div>
{% endblock %}

{% block modal %}
<div class="modal fade" id="signup-modal" tabindex="-1" aria-labelledby="signup-modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="signup-modal-label">Sign Up</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="{{ path('login') }}" method="post" id="signup-modal-body">
                <div class="modal-body">
                    <div class="form-group">
                        <input type="text" class="form-control" id="firstname" name="_firstname" placeholder="First Name" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" id="lastname" name="_lastname" placeholder="Last Name" required>
                    </div>
                    <div class="form-group">
                        <input type="email" class="form-control" id="email" name="_email" placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control"  id="password1" name="_password1" placeholder="Password" required>
                    </div>
                    <div class="form-group last-input">
                        <input type="password" class="form-control"  id="password2" name="_password2" placeholder="Re-enter Password" required>                    
                        <small id="form-help" class="form-text text-danger"></small>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="terms-and-conditions">
                        <label class="form-check-label" for="exampleCheck1">I agree with the terms and conditions.</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-dark btn-lg" id="submit-signup" disabled>Sign Up</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block onloadedscripts %}
    <script src="{{ asset('build/scripts/security-login.js') }}"></script>
{% endblock %}