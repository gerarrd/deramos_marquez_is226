{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('build/styles/security-login.css') }}" rel="stylesheet"/>
{% endblock %}

{% block body %}
    <div class="col-md-6 logo-container">
        <div id="logo" style="background-image: url({{ asset('build/images/logo.png') }})"></div>
    </div>
    <div class="col-md-6 signin-container">
        <div class="signin-control">
            <div class="welcome-message">
                <h1>Welcome</h1>
                <p>Keeping track of our expenses in relation with our friends and families has been a constant challenge for every Filipinos nowadays. More than anything, we would want to ensure that we get the best out of our spending. We are here to help you treasure what you value most.</p>
            </div>
            <div class="signin-form">
                <form action="{{ path('login') }}" method="post" id="signin">
                    <input type="text" id="username" name="_username" value="{{ last_username }}" placeholder="Username" required/>
                    <input type="password" id="password" name="_password" placeholder="Password"  required/>
                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                    <input type="submit" class="btn btn-dark" value="Sign In" id="submit-signin">
                </form>
                {% if error %}
                    <div class="text-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                {% endif %}
            </div>
            <div class="signin-auth">
                <hr/>
                <button class="btn btn-lg btn-dark" data-toggle="modal" data-target="#modalRegisterForm">
                    <span class="bi bi-pencil-square"></span> Sign Up with Email
                </button>
                <a href="{{ path('hwi_oauth_service_redirect', {'service': 'google' }) }}" class="btn btn-lg btn-danger">
                    <span class="bi bi-google"></span> Sign In with Google
                </a>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalRegisterForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title w-100 font-weight-bold">Sign up</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body mx-3">
                <div class="md-form mb-5">
                <i class="fas fa-user prefix grey-text"></i>
                <input type="text" id="orangeForm-name" class="form-control validate">
                <label data-error="wrong" data-success="right" for="orangeForm-name">Your name</label>
                </div>
                <div class="md-form mb-5">
                <i class="fas fa-envelope prefix grey-text"></i>
                <input type="email" id="orangeForm-email" class="form-control validate">
                <label data-error="wrong" data-success="right" for="orangeForm-email">Your email</label>
                </div>

                <div class="md-form mb-4">
                <i class="fas fa-lock prefix grey-text"></i>
                <input type="password" id="orangeForm-pass" class="form-control validate">
                <label data-error="wrong" data-success="right" for="orangeForm-pass">Your password</label>
                </div>

            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button class="btn btn-deep-orange">Sign up</button>
            </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block onloadedscripts %}
    <script src="{{ asset('build/scripts/security-login.js') }}"></script>
{% endblock %}